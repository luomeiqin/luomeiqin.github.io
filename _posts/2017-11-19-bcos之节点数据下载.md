---
layout: post
title: bcos之节点数据下载
categories: [bcos, p2p]
description: 记录节点数据下载过程
keywords: bcos, p2p
---
bcos节点入网以后，与peer端建立session，然后初始化BlockChainSync,并运行如下状态机，进行节点数据下载：


bcos节点数据下载报文交互类型：
<pre><code>
  StatusPacket = 0x00,
	NewBlockHashesPacket = 0x01,
	TransactionsPacket = 0x02,
	GetBlockHeadersPacket = 0x03,
	BlockHeadersPacket = 0x04,
	GetBlockBodiesPacket = 0x05,
	BlockBodiesPacket = 0x06,
	NewBlockPacket = 0x07,

  GetNodeDataPacket = 0x0d,
	NodeDataPacket = 0x0e,
	GetReceiptsPacket = 0x0f,
	ReceiptsPacket = 0x10,
</code></pre>
